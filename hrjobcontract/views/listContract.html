<ul class="{{prefix}}list-contract">
    <li ng-repeat="contract in currentContract" ng-controller="ContractCtrl">
        <div class="panel panel-default {{prefix}}panel-action">
            <div class="panel-body form-horizontal">
                <div class="row">
                    <div class="col-xs-3">
                        <div class="form-group">
                            <label class="col-sm-5 control-label">Position:</label>
                            <div class="col-sm-7">
                                <p class="form-control-static">{{details.position}}</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-5 control-label">Contact type:</label>
                            <div class="col-sm-7">
                                <p class="form-control-static">{{details.contract_type}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-5 control-label">Dates:</label>
                            <div class="col-sm-7">
                                <p class="form-control-static">{{details.period_start_date | formatPeriod}} - {{details.period_end_date | formatPeriod}}</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-5 control-label">Is primary?</label>
                            <div class="col-sm-7">
                                <input type="checkbox" name="primary" ng-model="details.is_primary" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-5 text-right">
                        <button class="btn btn-default btn-sm" ng-click="modalContract('view')">
                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span> View current<br>revision
                        </button>
                        <button class="btn btn-default btn-sm"  ng-click="modalContract('edit')">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Correct error<br>on contract
                        </button>
                        <button class="btn btn-default btn-sm" ng-click="modalContract('change')">
                            <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Change<br>contract terms
                        </button>
                        <a class="btn btn-sm"
                           tooltip-placement="left"
                           tooltip-html-unsafe="<p class='text-left'><strong>Change Contract Terms:</strong><br>
                                               When an employeees job or role changes, i.e. promotion, secondment or move,
                                               you can use this wizard to update the details of the contract and record a new
                                               revision of the contract. A contract history is kept so you can always see the
                                               previous version of the contract.</p>
                                               <p class='text-left'><strong>Correct an error on the contract record:</strong><br>
                                               If you notice an issue or error with the job terms you can correct these without
                                               creating a new job history record. These changes are not stored as a new revision
                                               of the contract.</p>">
                            <i class="fa fa-question-circle fa-lg"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <a class="btn btn-sm btn-collapse" ng-click="isCollapsed = !isCollapsed">
                    <i ng-class="{fa: true, 'fa-caret-down': !isCollapsed, 'fa-caret-right': isCollapsed }"></i> {{isCollapsed ? 'More details' : 'Hide details'}}
                </a>
            </div>
        </div>
        <div collapse="isCollapsed">
            <div class="{{prefix}}contract-details">
                <div class="row">
                    <div class="col-xs-12">
                        <tabset>
                            <tab heading="Summary">
                                <div ng-class="{{prefix}}summary">
                                    <div class="panel panel-default">
                                        <div class="panel-heading"><strong>{{details.contract_type}}: {{details.position}}</strong></div>
                                        <div class="panel-body">
                                            <form class="form-horizontal" role="form">
                                                <div class="row">
                                                    <div class="col-xs-6">
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Position</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">{{details.position}}</p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('details')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="title" class="col-sm-4 control-label">Title</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">{{details.title}}</p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('details')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Contract Type</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">Apprentice</p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('details')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Normal Place of Work</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">Headquarters</p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('details')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Time Period</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">
                                                                    ({{details.period_start_date | formatPeriod}} - {{details.period_end_date | formatPeriod}})<br />
                                                                    <strong>Notice:</strong> {{details.notice_amount}} {{details.notice_unit}}
                                                                </p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('details')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Funding</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">
                                                                    <strong>Tied to funding</strong><br />
                                                                    <strong>Funding organization:</strong> <a href="#">Jackson
                                                                    Wellness Partnership</a><br />
                                                                    <strong>Notes:</strong> {{details.funding_notes}}
                                                                </p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('details')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-6">
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Health Insurance</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static"></p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('insurance')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Life Insurance</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static"></p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('insurance')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Hours</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">Part Time (4 per Day) (1/1 FTE)</p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('hours')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Leave</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static"></p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('leave')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Pay</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">Paid (USD 40000.00 Year)</p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('pay')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">Pension</label>
                                                            <div class="col-sm-6">
                                                                <p class="form-control-static">
                                                                    Enrolled<br />
                                                                    <strong>Pension Type:</strong> Employer Pension<br />
                                                                    <strong>Employer Contribution (%):</strong> 4<br />
                                                                    <strong>Employer Contribution (%):</strong> 4<br />
                                                                    <strong>Employer Contribution (absolute amount):</strong>
                                                                    10000.00
                                                                </p>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <a class="btn" role="button" ng-click="modalRevision('pension')">
                                                                    <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <a href="#" class="btn btn-default btn-sm btn-danger" role="button">
                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete this job contract
                                    </a>
                                </div>
                            </tab>
                            <tab heading="Full History">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th>Effective Date</th>
                                        <th>Position</th>
                                        <th>Department</th>
                                        <th>Pay Scale</th>
                                        <th>Total Salary</th>
                                        <th>Hours (Full time/ Part time)</th>
                                        <th>Location</th>
                                        <th>Change Record By</th>
                                        <th>&nbsp;</th>
                                        <th>&nbsp;</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 4.0)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 3.9)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 3.8)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 3.7)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 3.6)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 3.5)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    <tr>
                                        <td>2014-10-30</td>
                                        <td>Front-end Developer</td>
                                        <td>IT</td>
                                        <td>NJC</td>
                                        <td>264000.00 $</td>
                                        <td>Full time</td>
                                        <td>London</td>
                                        <td>John Smith</td>
                                        <td></td>
                                        <td><a href="#"
                                               data-toggle="modal"
                                               data-action="view"
                                               data-title="Job Contract (rev. 3.4)"
                                               data-target="#{{prefix}}modal-wizard">view this contract revision</a></td>
                                    </tr>
                                    </tbody>
                                </table>
                                <a href="#" class="btn btn-default btn-sm btn-danger" role="button">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete this job contract
                                </a>
                            </tab>
                        </tabset>
                    </div>
                </div>
            </div>
        </div>
    </li>
</ul>
<!--
<h3>Past Job Contracts:</h3>
<p>
<a href="#" class="btn btn-default btn-sm btn-primary" role="button"
data-action="add"
data-toggle="modal"
data-save="Apply"
data-title="Add New Job Contract"
data-target="#{{prefix}}modal-wizard">
<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New Job Contract
</a>
</p>
-->