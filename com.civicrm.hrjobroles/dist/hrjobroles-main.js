/*!
angular-xeditable - 0.1.8
Edit-in-place for angular.js
Build date: 2014-01-10 
*/

/**
 * Bunch of useful filters for angularJS(with no external dependencies!)
 * @version v0.5.4 - 2015-02-20 * @link https://github.com/a8m/angular-filter
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

(function(){angular.module("xeditable",[]).value("editableOptions",{theme:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(e){return e({directiveName:"editableBsdate",inputTpl:'<input type="text">'})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n='<label ng-repeat="'+e.ngRepeat+'">'+'<input type="checkbox" checklist-model="$parent.$data" checklist-value="'+e.locals.valueFn+'">'+'<span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)}})}]),function(){var e="text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");angular.forEach(e,function(e){var t="editable"+e.charAt(0).toUpperCase()+e.slice(1);angular.module("xeditable").directive(t,["editableDirectiveFactory",function(n){return n({directiveName:t,inputTpl:'<input type="'+e+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(e){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n='<label ng-repeat="'+e.ngRepeat+'">'+'<input type="radio" ng-model="$parent.$data" value="{{'+e.locals.valueFn+'}}">'+'<span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var e=this;e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){(t.ctrlKey||t.metaKey)&&13===t.keyCode&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function n(e,n,r,i,s,o,u,a,f){var l,c,h=this;h.scope=e,h.elem=r,h.attrs=n,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=s[o.theme]||s["default"],h.parent={},h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.init=function(t){if(h.single=t,h.name=n.eName||n[h.directiveName],!n[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";l=i(n[h.directiveName]),h.buttons=h.single?h.attrs.buttons||o.buttons:"no",n.eName&&h.scope.$watch("$data",function(e){h.scope.$form.$data[n.eName]=e}),n.onshow&&(h.onshow=function(){return h.catchError(i(n.onshow)(e))}),n.onhide&&(h.onhide=function(){return i(n.onhide)(e)}),n.oncancel&&(h.oncancel=function(){return i(n.oncancel)(e)}),n.onbeforesave&&(h.onbeforesave=function(){return h.catchError(i(n.onbeforesave)(e))}),n.onaftersave&&(h.onaftersave=function(){return h.catchError(i(n.onaftersave)(e))}),e.$parent.$watch(n[h.directiveName],function(){h.handleEmpty()})},h.render=function(){var e=h.theme;h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(e.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(e.buttonsTpl),h.submitEl=angular.element(e.submitTpl),h.cancelEl=angular.element(e.cancelTpl),h.buttonsEl.append(h.submitEl).append(h.cancelEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(e.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?e.formTpl:e.noformTpl),h.editorEl.append(h.controlsEl);for(var r in n.$attr)if(!(r.length<=1)){var i=!1,s=r.substring(1,2);if("e"===r.substring(0,1)&&s===s.toUpperCase()&&(i=r.substring(1),"Form"!==i&&"NgSubmit"!==i)){i=i.substring(0,1).toLowerCase()+t.camelToDash(i.substring(1));var u=""===n[r]?i:n[r];h.inputEl.attr(i,u)}}h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$data"),h.editorEl.addClass(t.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||("no"===h.buttons?"cancel":o.blurElem))),angular.isFunction(e.postrender)&&e.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(l(e.$parent)):l(e.$parent)},h.show=function(){return h.setLocalValue(),h.render(),r.after(h.editorEl),a(h.editorEl)(e),h.addListeners(),r.addClass("editable-hide"),h.onshow()},h.hide=function(){return h.editorEl.remove(),r.removeClass("editable-hide"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(e){if(h.single)switch(e.keyCode){case 27:h.scope.$apply(function(){h.scope.$form.$cancel()})}}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(e){1===e.which&&h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(e){e?(c=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"),c&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl&&h.buttonsEl.find("button").attr("disabled","disabled"))):c&&(h.inputEl.removeAttr("disabled"),h.buttonsEl&&h.buttonsEl.find("button").removeAttr("disabled"))},h.activate=function(){setTimeout(function(){var e=h.inputEl[0];"focus"===o.activate&&e.focus&&e.focus(),"select"===o.activate&&e.select&&e.select()},0)},h.setError=function(t){angular.isObject(t)||(e.$error=t,h.error=t)},h.catchError=function(e,t){return angular.isObject(e)&&t!==!0?f.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},h.save=function(){l.assign(e.$parent,angular.copy(h.scope.$data))},h.handleEmpty=function(){var t=l(e.$parent),n=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;r.toggleClass("editable-empty",n)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController",function(e,t,n,r,i,s,o){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:s,link:function(n,s,u,f){var l,c=f[0],h=!1;if(f[1])l=f[1],h=!0;else if(u.eForm){var p=e(u.eForm)(n);if(p)l=p,h=!0;else for(var v=0;v<i[0].forms.length;v++)if(i[0].forms[v].name===u.eForm){l=null,h=!0;break}}if(angular.forEach(t,function(e,t){void 0!==c[t]&&(c.parent[t]=c[t])}),angular.extend(c,t),c.init(!h),n.$editable=c,s.addClass("editable"),h)if(l){if(n.$form=l,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(c)}else r.$$editableBuffer=r.$$editableBuffer||{},r.$$editableBuffer[u.eForm]=r.$$editableBuffer[u.eForm]||[],r.$$editableBuffer[u.eForm].push(c),n.$form=null;else n.$form=o(),n.$form.$addEditable(c),u.eForm&&(n.$parent[u.eForm]=n.$form),u.eForm||(s.addClass("editable-click"),s.bind("click",function(e){e.preventDefault(),e.editable=c,n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,n,r,i){var s=[];t.bind("click",function(e){if(1===e.which){for(var t=[],r=[],i=0;i<s.length;i++)s[i]._clicked?s[i]._clicked=!1:s[i].$waiting||("cancel"===s[i]._blur&&t.push(s[i]),"submit"===s[i]._blur&&r.push(s[i]));(t.length||r.length)&&n.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(r,function(e){e.$submit()})})}});var o={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show())},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return this.$editables.splice(t,1),void 0},$show:function(){if(!this.$visible){this.$visible=!0;var e=r();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===i.indexOf(s,this)&&s.push(this)}),0)}},$activate:function(e){var t;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return this.$editables[t].activate(),void 0;for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return this.$editables[t].activate(),void 0;this.$editables[0].activate()}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),i.arrayRemove(s,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(n){e&&n.name!==e||n.setError(t)})},$submit:function(){function e(e){var t=r();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=r();angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=r();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},o)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,n,r){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,r,i,s){var o,u=s[0];i.editableForm?t[i.editableForm]&&t[i.editableForm].$show?(o=t[i.editableForm],angular.extend(u,o)):(o=n(),t[i.editableForm]=o,angular.extend(o,u)):(o=n(),angular.extend(u,o));var f=e.$$editableBuffer,l=u.$name;l&&f&&f[l]&&(angular.forEach(f[l],function(e){o.$addEditable(e)}),delete f[l])},post:function(e,n,i,s){var o;o=i.editableForm&&e[i.editableForm]&&e[i.editableForm].$show?e[i.editableForm]:s[0],i.onshow&&(o.$onshow=angular.bind(o,t(i.onshow),e)),i.onhide&&(o.$onhide=angular.bind(o,t(i.onhide),e)),i.oncancel&&(o.$oncancel=angular.bind(o,t(i.oncancel),e)),i.shown&&t(i.shown)(e)&&o.$show(),o._blur=i.blur||r.blurForm,i.ngSubmit||i.submit||(i.onbeforesave&&(o.$onbeforesave=function(){return t(i.onbeforesave)(e,{$data:o.$data})}),i.onaftersave&&(o.$onaftersave=function(){return t(i.onaftersave)(e,{$data:o.$data})}),n.bind("submit",function(t){t.preventDefault(),e.$apply(function(){o.$submit()})})),n.bind("click",function(e){1===e.which&&o.$visible&&(o._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,n){if(t===!1)this.hasFalse=!0;else if(!n&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function n(){u.hasString||u.hasFalse?!u.hasString&&u.hasFalse?i():s():r()}t=t||{};var r=t.onTrue||angular.noop,i=t.onFalse||angular.noop,s=t.onString||angular.noop,o=t.onWait||angular.noop,u=this;this.promises.length?(o(!0),e.all(this.promises).then(function(e){o(!1),angular.forEach(e,function(e){u.when(e,!0)}),n()},function(){o(!1),s()})):n()}}}return t}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},arrayRemove:function(e,t){var n=this.indexOf(e,t);return n>=0&&e.splice(n,1),t},camelToDash:function(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){var t=/([\:\-\_]+(.))/g,n=/^moz([A-Z])/;return e.replace(t,function(e,t,n,r){return r?n.toUpperCase():n}).replace(n,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function e(e){var n;if(!(n=e.match(t)))throw"ng-options parse error";var r,i=n[2]||n[1],s=n[4]||n[6],o=n[5],u=(n[3]||"",n[2]?n[1]:s),a=n[7],f=n[8],l=f?n[8]:null;return void 0===o?(r=s+" in "+a,void 0!==f&&(r+=" track by "+l)):r="("+o+", "+s+") in "+a,{ngRepeat:r,locals:{valueName:s,keyName:o,valueFn:u,displayFn:i}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e}]),angular.module("xeditable").factory("editableThemes",function(){var e={"default":{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(!(!this.inputEl.attr("multiple")||"input-sm"!==this.theme.inputClass&&"input-lg"!==this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}};return e}),define("angularEditable",function(){}),!function(e,t,n){"use strict";function r(e){return A(e)?e:Object.keys(e).map(function(t){return e[t]})}function i(e){return null===e}function s(e,t){var r=Object.keys(e);return-1==r.map(function(r){return t[r]!==n&&t[r]==e[r]}).indexOf(!1)}function o(e,t){if(""===t)return e;var n=e.indexOf(t.charAt(0));return-1===n?!1:o(e.substr(n+1),t.substr(1))}function u(e,t,n){var r=0;return e.filter(function(e){var i=x(n)?t>r&&n(e):t>r;return r=i?r+1:r,i})}function a(e,t,n){return n.round(e*n.pow(10,t))/n.pow(10,t)}function f(e,t,n){t=t||[];var r=Object.keys(e);return r.forEach(function(r){if(L(e[r])&&!A(e[r])){var i=n?n+"."+r:n;f(e[r],t,i||r)}else{var s=n?n+"."+r:r;t.push(s)}}),t}function l(e){return e&&e.$evalAsync&&e.$watch}function c(){return function(e,t){return e>t}}function h(){return function(e,t){return e>=t}}function p(){return function(e,t){return t>e}}function d(){return function(e,t){return t>=e}}function v(){return function(e,t){return e==t}}function m(){return function(e,t){return e!=t}}function g(){return function(e,t){return e===t}}function y(){return function(e,t){return e!==t}}function b(e){return function(t,n){return t=L(t)?r(t):t,!A(t)||T(n)?!1:t.some(function(t){return L(t)||N(n)?e(n)(t):t===n})}}function w(e,t){return t=t||0,t>=e.length?e:A(e[t])?w(e.slice(0,t).concat(e[t],e.slice(t+1)),t):w(e,t+1)}function E(e){return function(t,n){function i(e,t){return T(t)?!1:e.some(function(e){return D(e,t)})}if(t=L(t)?r(t):t,!A(t))return t;var s=[],o=e(n);return t.filter(T(n)?function(e,t,n){return n.indexOf(e)===t}:function(e){var t=o(e);return i(s,t)?!1:(s.push(t),!0)})}}function S(e,t,n){return t?e+n+S(e,--t,n):e}var x=t.isDefined,T=t.isUndefined,N=t.isFunction,C=t.isString,k=t.isNumber,L=t.isObject,A=t.isArray,O=t.forEach,M=t.extend,_=t.copy,D=t.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return t.isUndefined(e)}}).filter("isDefined",function(){return function(e){return t.isDefined(e)}}).filter("isFunction",function(){return function(e){return t.isFunction(e)}}).filter("isString",function(){return function(e){return t.isString(e)}}).filter("isNumber",function(){return function(e){return t.isNumber(e)}}).filter("isArray",function(){return function(e){return t.isArray(e)}}).filter("isObject",function(){return function(e){return t.isObject(e)}}).filter("isEqual",function(){return function(e,n){return t.equals(e,n)}}),t.module("a8m.conditions",[]).filter({isGreaterThan:c,">":c,isGreaterThanOrEqualTo:h,">=":h,isLessThan:p,"<":p,isLessThanOrEqualTo:d,"<=":d,isEqualTo:v,"==":v,isNotEqualTo:m,"!=":m,isIdenticalTo:g,"===":g,isNotIdenticalTo:y,"!==":y}),t.module("a8m.is-null",[]).filter("isNull",function(){return function(e){return i(e)}}),t.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){if(e=L(e)?r(e):e,!A(e)||T(t))return e;var n=e.map(function(e){return s(t,e)}).indexOf(!0);return e.slice(-1===n?0:n)}}),t.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=L(e)?r(e):e,A(e)?e.slice(t):e}}),t.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){if(e=L(e)?r(e):e,!A(e)||T(t))return e;var n=e.map(function(e){return s(t,e)}).indexOf(!0);return e.slice(0,-1===n?e.length:++n)}}),t.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=L(e)?r(e):e,A(e)?e.slice(0,t?--t:t):e}}),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(T(t))return e;if(A(e))return e.concat(L(t)?r(t):t);if(L(e)){var n=r(e);return n.concat(L(t)?r(t):t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",b],some:["$parse",b]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,n){var i,s={},o=e(n);return t=L(t)?r(t):t,!A(t)||T(n)?t:(t.forEach(function(e){i=o(e),s[i]||(s[i]=0),s[i]++}),s)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,n){if(t=L(t)?r(t):t,!A(t)||!L(n))return t;var i=f(n);return t.forEach(function(t){i.forEach(function(r){var i=e(r),s=i.assign;T(i(t))&&s(t,i(n))})}),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,n){return t=L(t)?r(t):t,!A(t)||T(n)?!0:t.every(function(t){return L(t)||N(n)?e(n)(t):t===n})}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,i,s){var o;return s=C(s)||k(s)?String(s).toLowerCase():n,t=L(t)?r(t):t,!A(t)||T(s)?t:t.filter(function(t){return i.some(function(n){if(~n.indexOf("+")){var r=n.replace(new RegExp("\\s","g"),"").split("+");o=r.reduce(function(n,r,i){return 1===i?e(n)(t)+" "+e(r)(t):n+" "+e(r)(t)})}else o=e(n)(t);return C(o)||k(o)?String(o).toLowerCase().contains(s):!1})})}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var i,s,o;return t=L(t)?r(t):t,A(t)?(o=Array.prototype.slice.call(arguments,1),i=k(o[0])?o[0]:1,s=k(o[0])?k(o[1])?n:o[1]:o[0],o.length?u(t,i,s?e(s):s):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=L(e)?r(e):e,A(e)?t?[].concat.apply([],e):w(e,0):e}}),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,n,i,s){var u,a,f=s||!1;return t=L(t)?r(t):t,!A(t)||T(n)||T(i)?t:(a=e(n),t.filter(function(e){return u=a(e),C(u)?(u=f?u:u.toLowerCase(),i=f?i:i.toLowerCase(),o(u,i)!==!1):!1}))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,t,n){function i(e,t){var n,r,i=Object.keys(e);return 0<i.filter(function(i){return n=e[i],r?!0:C(n)?(n=s?n:n.toLowerCase(),r=o(n,t)!==!1):!1}).length}var s=n||!1;return e=L(e)?r(e):e,!A(e)||T(t)?e:(t=s?t:t.toLowerCase(),e.filter(function(e){return C(e)?(e=s?e:e.toLowerCase(),o(e,t)!==!1):L(e)?i(e,t):!1}))}}),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(n,r){function i(e,t){var n,r={};return O(e,function(e){n=t(e),r[n]||(r[n]=[]),r[n].push(e)}),r}if(!L(n)||T(r))return n;var s=e(r);return t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,i(n,s))}}]),t.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return L(e)?!r(e).length:!e.length}}),t.module("a8m.join",[]).filter("join",function(){return function(e,t){return T(e)||!A(e)?e:(T(t)&&(t=" "),e.join(t))}}),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var i,s,o,a=_(t);return a=L(a)?r(a):a,A(a)?(o=Array.prototype.slice.call(arguments,1),i=k(o[0])?o[0]:1,s=k(o[0])?k(o[1])?n:o[1]:o[0],o.length?u(a.reverse(),i,s?e(s):s).reverse():a[a.length-1]):a}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,n){return t=L(t)?r(t):t,!A(t)||T(n)?t:t.map(function(t){return e(n)(t)})}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,n){return t=L(t)?r(t):t,!A(t)||T(n)?t:t.filter(function(t){return!e(n)(t)})}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,n){return t=L(t)?r(t):t,!A(t)||T(n)?t:t.filter(function(t){return e(n)(t)})}}]),t.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return T(t)?e:(e=L(e)?r(e):e,e.filter(function(e){return!s(t,e)}))}}),t.module("a8m.remove",[]).filter("remove",function(){return function(e){e=L(e)?r(e):e;var t=Array.prototype.slice.call(arguments,1);return A(e)?e.filter(function(e){return!t.some(function(t){return D(t,e)})}):e}}),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=L(e)?r(e):e,C(e)?e.split("").reverse().join(""):A(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var n,i;t=L(t)?r(t):t;var s=Array.prototype.slice.call(arguments,1);return A(t)&&s.length?t.map(function(t){return i=s.map(function(r){return(n=e(r))(t)}).join(" "),M(t,{searchField:i})}):t}}]),t.module("a8m.to-array",[]).filter("toArray",function(){return function(e,t){return L(e)?t?Object.keys(e).map(function(t){return M(e[t],{$key:t})}):r(e):e}}),t.module("a8m.unique",[]).filter({unique:["$parse",E],uniq:["$parse",E]}),t.module("a8m.where",[]).filter("where",function(){return function(e,t){return T(t)?e:(e=L(e)?r(e):e,e.filter(function(e){return s(t,e)}))}}),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,n,i){function s(t,n){var r=e(i);return n.some(function(e){return i?D(r(e),r(t)):D(e,t)})}return i=i||!1,t=L(t)?r(t):t,n=L(n)?r(n):n,A(t)&&A(n)?t.concat(n).filter(function(e){return!s(e,t)||!s(e,n)}):t}}]),t.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(e){return function(t,n){return k(n)&&isFinite(n)&&n%1===0&&n>=0&&k(t)&&isFinite(t)?1024>t?a(t,n,e)+" B":1048576>t?a(t/1024,n,e)+" KB":1073741824>t?a(t/1048576,n,e)+" MB":a(t/1073741824,n,e)+" GB":"NaN"}}]),t.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(e){return function(t,n){if(k(n)&&isFinite(n)&&n%1===0&&n>=0&&k(t)&&isFinite(t)){var r=180*t/e.PI;return e.round(r*e.pow(10,n))/e.pow(10,n)}return"NaN"}}]),t.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(e){return function(t,n){return k(n)&&isFinite(n)&&n%1===0&&n>=0&&k(t)&&isFinite(t)?1024>t?a(t,n,e)+" KB":1048576>t?a(t/1024,n,e)+" MB":a(t/1048576,n,e)+" GB":"NaN"}}]),t.module("a8m.math",[]).factory("$math",["$window",function(e){return e.Math}]),t.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(e,t){function n(n,r){var i=n.map(function(e){return t(r)(e)});return i.indexOf(e.max.apply(e,i))}return function(t,r){return A(t)?T(r)?e.max.apply(e,t):t[n(t,r)]:t}}]),t.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(e,t){function n(n,r){var i=n.map(function(e){return t(r)(e)});return i.indexOf(e.min.apply(e,i))}return function(t,r){return A(t)?T(r)?e.min.apply(e,t):t[n(t,r)]:t}}]),t.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(e,t){return function(n,r,i){var s=C(n)?t.Number(n):n;return r=r||100,i=i||!1,!k(s)||t.isNaN(s)?n:i?e.round(s/r*100):s/r*100}}]),t.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(e){return function(t,n){if(k(n)&&isFinite(n)&&n%1===0&&n>=0&&k(t)&&isFinite(t)){var r=3.14159265359*t/180;return e.round(r*e.pow(10,n))/e.pow(10,n)}return"NaN"}}]),t.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){var n=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return k(e)&&n.test(t)?e.toString(t).toUpperCase():e}}),t.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(e){return function(t,n){return k(n)&&isFinite(n)&&n%1===0&&n>=0&&k(t)&&isFinite(t)?1e3>t?t:1e6>t?a(t/1e3,n,e)+" K":1e9>t?a(t/1e6,n,e)+" M":a(t/1e9,n,e)+" B":"NaN"}}]),t.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return A(e)?e.reduce(function(e,t){return e+t},t||0):e}}),t.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,n){var r,i=n||!1;return!C(e)||T(t)?e:(e=i?e:e.toLowerCase(),r=e.length-t.length,-1!==e.indexOf(i?t:t.toLowerCase(),r))}}),t.module("a8m.latinize",[]).filter("latinize",[function(){function e(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return n[e]||e})}for(var t=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n={},r=0;r<t.length;r++)for(var i=t[r].letters.split(""),s=0;s<i.length;s++)n[i[s]]=t[r].base;return function(t){return C(t)?e(t):t}}]),t.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){var n=t||"\\s";return C(e)?e.replace(new RegExp("^"+n+"+"),""):e}}),t.module("a8m.match",[]).filter("match",function(){return function(e,t,n){var r=new RegExp(t,n);return C(e)?e.match(r):null}}),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,n){var r=~~t;return C(e)&&r?S(e,--t,n||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){var n=t||"\\s";return C(e)?e.replace(new RegExp(n+"+$"),""):e}}),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var n=T(t)?"-":t;return C(e)?e.toLowerCase().replace(/\s+/g,n):e}}]),t.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,n){var r=n||!1;return!C(e)||T(t)?e:(e=r?e:e.toLowerCase(),!e.indexOf(r?t:t.toLowerCase()))}}),t.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return T(t[n])?e:t[n]})}}),t.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return C(e)?e.replace(/<\S[^><]*>/g,""):e}}),t.module("a8m.test",[]).filter("test",function(){return function(e,t,n){var r=new RegExp(t,n);return C(e)?r.test(e):e}}),t.module("a8m.trim",[]).filter("trim",function(){return function(e,t){var n=t||"\\s";return C(e)?e.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):e}}),t.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,n,r){return t=T(t)?e.length:t,r=r||!1,n=n||"",!C(e)||e.length<=t?e:e.substring(0,r?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+n}}),t.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(e){return C(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}]),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return C(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return C(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,n){return C(e)&&x(t)?[t,e,n||t].join(""):e}}),t.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(e,n){function r(e,n){return[e,t.toJson(n)].join("#").replace(/"/g,"")}function i(e){var t=e.targetScope.$id;O(c[t],function(e){delete f[e]}),delete c[t]}function s(){h(function(){n.$$phase||(f={})})}function o(e,t){var n=e.$id;return T(c[n])&&(e.$on("$destroy",i),c[n]=[]),c[n].push(t)}function u(e,t){var n=r(e,t);return f[n]}function a(e,t,n,i){var u=r(e,t);return f[u]=i,l(n)?o(n,u):s(),i}var f={},c={},h=e.setTimeout;return{isMemoized:u,memoize:a}}]}),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),define("angularFilter",function(){}),define("controllers/controllers",[],function(){"use strict";return angular.module("hrjobroles.controllers",[])}),define("directives/directives",[],function(){"use strict";return angular.module("hrjobroles.directives",[])}),define("filters/filters",[],function(){"use strict";return angular.module("hrjobroles.filters",[])}),define("services/services",[],function(){"use strict";return angular.module("hrjobroles.services",[])}),define("app",["angularEditable","angularFilter","controllers/controllers","directives/directives","filters/filters","services/services"],function(){return angular.module("hrjobroles",["ngAnimate","ngRoute","xeditable","angular.filter","ngResource","ui.bootstrap","hrjobroles.controllers","hrjobroles.directives","hrjobroles.filters","hrjobroles.services"])}),define("controllers/example",["controllers/controllers"],function(e){e.controller("ExampleCtrl",["$scope","$log","$routeParams","ExampleService","$route","$timeout",function(e,t,n,r,i,s){function u(){r.getContactList().then(function(e){if(e.is_error==1)o.message_type="alert-danger",o.message="Cannot get contact lit!";else{var t=[],n={};for(var r=0;r<e.count;r++)t.push({id:e.values[r].id,sort_name:e.values[r].sort_name}),n[e.values[r].id]={id:e.values[r].id,sort_name:e.values[r].sort_name};o.contactList=t,o.contactListObject=n,o.message_type="alert-success",o.message="Contact list OK!"}s(function(){o.message=null},3e3)},function(t){e.error=t})}function a(){r.getOptionValues("hrjc_level_type").then(function(e){if(e.is_error==1)o.message_type="alert-danger",o.message="Cannot get level list!";else{var t={};for(var n=0;n<e.count;n++)t[e.values[n].id]={id:e.values[n].id,title:e.values[n].label};o.LevelsData=t,o.message_type="alert-success",o.message="Level list OK!"}s(function(){o.message=null},3e3)},function(t){e.error=t})}function f(){r.getOptionValues("hrjc_location").then(function(e){if(e.is_error==1)o.message_type="alert-danger",o.message="Cannot get location list!";else{var t={};for(var n=0;n<e.count;n++)t[e.values[n].id]={id:e.values[n].id,title:e.values[n].label};o.LocationsData=t,o.message_type="alert-success",o.message="Location list OK!"}s(function(){o.message=null},3e3)},function(t){e.error=t})}function l(){r.getOptionValues("hrjc_region").then(function(e){if(e.is_error==1)o.message_type="alert-danger",o.message="Cannot get region list!";else{var t={};for(var n=0;n<e.count;n++)t[e.values[n].id]={id:e.values[n].id,title:e.values[n].label};o.RegionsData=t,o.message_type="alert-success",o.message="Region list OK!"}s(function(){o.message=null},3e3)},function(t){e.error=t})}function c(){r.getOptionValues("hrjc_department").then(function(e){if(e.is_error==1)o.message_type="alert-danger",o.message="Cannot get department list!";else{var t={};for(var n=0;n<e.count;n++)t[e.values[n].id]={id:e.values[n].id,title:e.values[n].label};o.DepartmentsData=t,o.message_type="alert-success",o.message="Department list OK!"}s(function(){o.message=null},3e3)},function(t){e.error=t})}function h(t){r.getContracts(t).then(function(t){var n=[],i={};if(t.count!=0){for(var s=0;s<t.count;s++)n.push(t.values[s].id),i[t.values[s].id]={id:t.values[s].id,title:t.values[s].title};o.contractsData=i,r.getAllJobRoles(n).then(function(e){o.getData=e.values,console.log(o.getData),e.is_error==1?o.status="Data load failure":(e.count==0?o.empty="No Job Roles found!":o.empty=null,o.status="Data load OK")},function(t){e.error=t})}else console.log("no job contract"),o.empty="No Job Contracts found for this Contact!"},function(t){e.error=t})}function p(t){r.deleteJobRole(t).then(function(e){e.is_error==1?(o.message_type="alert-danger",o.message="Role delete failure!"):(o.message_type="alert-success",o.message="Role deleted successfully!"),s(function(){o.message=null},3e3)},function(t){e.error=t})}function d(t){r.createJobRole(t).then(function(e){e.is_error==1?(o.message_type="alert-danger",o.message="Role creation failed!"):(o.message_type="alert-success",o.message="Role added successfully!"),s(function(){o.message=null},3e3)},function(t){e.error=t})}function v(t,n){r.updateJobRole(t,n).then(function(e){e.is_error==1?(o.message_type="alert-danger",o.message="Role update failed!"):(o.message_type="alert-success",o.message="Role updated successfully!"),s(function(){o.message=null},3e3)},function(t){e.error=t})}t.debug("Controller: ExampleCtrl"),e.validateTitle=function(e){console.log(e);if(e=="title"||e==" ")return"Title cannot be title!"},e.collapsedRows=[],e.view_tab=[],e.edit_data={},e.add_new_role_url=e.$parent.pathBaseUrl+e.$parent.pathIncludeTpl+"add_new_role.html",e.contractsData=[],e.LevelsData={},e.LocationsData={},e.RegionsData={},e.DepartmentsData={},e.contactList=[],e.contactListObject={},e.changeTab=function(t,n){e.view_tab[t]=n},e.isTab=function(t,n){return e.view_tab[t]==n?!0:!1},e.isThingsCollapsed=function(t){return e.collapsedRows[t]==1?!0:e.collapsedRows[t]==0?!1:!0},e.collapseRow=function(t){e.collapsedRows[t]==0?e.collapsedRows[t]=!0:e.collapsedRows[t]=!1},e.initData=function(t,n,r){typeof e.edit_data[t]=="undefined"&&(e.edit_data[t]={});if(n=="funders"){e.edit_data[t].funders=[];var i=r.funder.split("|"),s=r.funder_val_type.split("|"),u=r.percent_pay_funder.split("|"),a=r.amount_pay_funder.split("|");for(var f=0;f<i.length;f++)i[f]!=""&&e.edit_data[t].funders.push({id:e.edit_data[t].funders.length+1,funder_id:{id:i[f],sort_name:o.contactListObject[i[f]].sort_name},type:s[f],percentage:u[f],amount:a[f]})}else if(n=="cost_centers"){e.edit_data[t].cost_centers=[];var l=r.cost_center.split("|"),c=r.cost_center_val_type.split("|"),h=r.percent_pay_cost_center.split("|"),p=r.amount_pay_cost_center.split("|");for(var f=0;f<l.length;f++)l[f]!=""&&e.edit_data[t].cost_centers.push({id:e.edit_data[t].cost_centers.length+1,cost_centre_id:{id:l[f],sort_name:o.contactListObject[l[f]].sort_name},type:c[f],percentage:h[f],amount:p[f]})}else e.edit_data[t][n]=r},e.isChanged=function(t){return e.edit_data[t]["is_edit"]==1?!0:!1},e.showSave=function(t){console.log(e.edit_data),e.edit_data[t].is_edit=!0},e.saveNewRole=function(n){t.debug("Add New Role"),d(e.edit_data.new_role_id),h(e.$parent.contactId),e.add_new=!1,e.empty=!1},e.add_new_role=function(){e.add_new=!0},e.removeRole=function(n){t.debug("Remove Role"),p(n),h(e.$parent.contactId)},e.updateRole=function(n){t.debug("Update Role"),console.log(n),console.log(e.edit_data[n]),v(n,e.edit_data[n]),h(e.$parent.contactId)},e.filterItems={},e.filterItems[10]={id:10,name:"Active"},e.filterItems[20]={id:20,name:"Inactive"},e.rowTypes={},e.rowTypes[0]={id:0,name:"Fixed"},e.rowTypes[1]={id:1,name:"%"},e.filterChange=function(n){t.debug("Update Role status"),v(n,e.edit_data[n]),h(e.$parent.contactId)},e.showRowType=function(t){var n="";return typeof t.type!="undefined"?(n=e.rowTypes[t.type],n.name):"Not set"},e.updateAdditionalRowType=function(t,n,r,i){n=="cost_centre"?e.edit_data[t].cost_centers[r].type=i:e.edit_data[t].funders[r].type=i},e.addAdditionalRow=function(t,n){console.log(t),console.log(n),typeof e.edit_data[t]=="undefined"&&(e.edit_data[t]={});if(n=="cost_centre"){if(typeof e.edit_data[t]["cost_centers"]=="undefined"||!(e.edit_data[t].cost_centers instanceof Array))e.edit_data[t].cost_centers=[];e.edit_data[t].cost_centers.push({id:e.edit_data[t].cost_centers.length+1,cost_centre_id:"",type:"1",percentage:"0",amount:"0"})}else{if(typeof e.edit_data[t]["funders"]=="undefined"||!(e.edit_data[t].funders instanceof Array))e.edit_data[t].funders=[];e.edit_data[t].funders.push({id:e.edit_data[t].funders.length+1,funder_id:"",type:"1",percentage:"0",amount:"0"})}},e.deleteAdditionalRow=function(t,n,r){n=="cost_centre"?e.edit_data[t].cost_centers.splice(r,1):e.edit_data[t].funders.splice(r,1)};var o=this;a(),f(),l(),c(),h(e.$parent.contactId),u()}])}),define("services/example",["services/services"],function(e){e.factory("ExampleService",["settings","$log","$q",function(e,t,n){return t.debug("Service: ExampleService"),{getContracts:function(e){var t=n.defer();return CRM.api3("HRJobContract","get",{sequential:1,contact_id:e,deleted:0,"return":"title"}).done(function(e){t.resolve(e)}).error(function(e){t.reject("An error occured while fetching items")}),t.promise},getAllJobRoles:function(e){var t=n.defer();return CRM.api3("HrJobRoles","get",{sequential:1,"return":"id,job_contract_id,title,description,status,funder,funder_val_type,percent_pay_funder,amount_pay_funder,cost_center,cost_center_val_type,percent_pay_cost_center,amount_pay_cost_center,level_type,location,region,department",job_contract_id:{IN:e}}).done(function(e){t.resolve(e)}).error(function(e){t.reject("An error occured while fetching items")}),t.promise},deleteJobRole:function(e){var t=n.defer();return CRM.api3("HrJobRoles","delete",{sequential:1,id:e}).done(function(e){t.resolve(e)}).error(function(e){t.reject("An error occured while deleting items")}),t.promise},createJobRole:function(e){console.log(e);var t="|",r="|",i="|",s="|",o="|",u="|",a="|",f="|";if(typeof e.funders!="undefined")for(var l=0,c=e.funders.length;l<c;l++)e.funders[l]&&(console.log(e.funders[l].funder_id.id),t+=e.funders[l].funder_id.id+"|",r+=e.funders[l].type+"|",i+=e.funders[l].percentage+"|",s+=e.funders[l].amount+"|");if(typeof e.cost_centers!="undefined")for(var l=0,c=e.cost_centers.length;l<c;l++)e.cost_centers[l]&&(console.log(e.cost_centers[l].cost_centre_id.id),o+=e.cost_centers[l].cost_centre_id.id+"|",u+=e.cost_centers[l].type+"|",a+=e.cost_centers[l].percentage+"|",f+=e.cost_centers[l].amount+"|");var h=n.defer();return CRM.api3("HrJobRoles","create",{sequential:1,job_contract_id:e.job_contract_id,title:e.title,description:e.description,funder:t,funder_val_type:r,percent_pay_funder:i,amount_pay_funder:s,cost_center:o,cost_center_val_type:u,percent_pay_cost_center:a,amount_pay_cost_center:f,level_type:e.level,location:e.location,region:e.region,department:e.department}).done(function(e){console.log(e),h.resolve(e)}).error(function(e){h.reject("An error occured while adding items")}),h.promise},updateJobRole:function(e,t){var r="|",i="|",s="|",o="|",u="|",a="|",f="|",l="|";if(typeof t.funders!="undefined")for(var c=0,h=t.funders.length;c<h;c++)t.funders[c]&&(console.log(t.funders[c]),r+=t.funders[c].funder_id.id+"|",i+=t.funders[c].type+"|",s+=t.funders[c].percentage+"|",o+=t.funders[c].amount+"|");if(typeof t.cost_centers!="undefined")for(var c=0,h=t.cost_centers.length;c<h;c++)t.cost_centers[c]&&(console.log(t.cost_centers[c].cost_centre_id.id),u+=t.cost_centers[c].cost_centre_id.id+"|",a+=t.cost_centers[c].type+"|",f+=t.cost_centers[c].percentage+"|",l+=t.cost_centers[c].amount+"|");var p=n.defer();return CRM.api3("HrJobRoles","create",{sequential:1,id:e,job_contract_id:t.job_contract_id,title:t.title,description:t.description,status:t.status,funder:r,funder_val_type:i,percent_pay_funder:s,amount_pay_funder:o,cost_center:u,cost_center_val_type:a,percent_pay_cost_center:f,amount_pay_cost_center:l,level_type:t.level,location:t.location,region:t.region,department:t.department}).done(function(e){p.resolve(e)}).error(function(e){p.reject("An error occured while updating items")}),p.promise},getContactList:function(e){var t=n.defer();return CRM.api3("Contact","get",{sequential:1,"return":"id,sort_name"}).done(function(e){t.resolve(e)}).error(function(e){t.reject("An error occured while fetching items")}),t.promise},getOptionValues:function(e){console.log(e);var t=n.defer();return CRM.api3("OptionGroup","get",{sequential:1,name:e}).done(function(e){console.log(e),e.is_error!==1&&CRM.api3("OptionValue","get",{sequential:1,option_group_id:e.id}).done(function(e){t.resolve(e)}).error(function(e){t.reject("An error occured while fetching items")})}),t.promise}}}])}),define("directives/example",["directives/directives"],function(e){e.directive("example",["$rootScope","$log",function(e,t){return t.debug("Directive: example"),{link:function(e,t,n){}}}])});var e=require.config({context:"hrjobroles",baseUrl:CRM.vars.hrjobroles.baseURL+"/js",urlArgs:"bust="+(new Date).getTime(),paths:{angularEditable:"vendor/angular/xeditable.min",angularFilter:"vendor/angular/angular-filter.min",requireLib:CRM.vars.reqAngular.requireLib}});e(["app","controllers/example","services/example","directives/example"],function(e){"use strict";e.constant("settings",{classNamePrefix:"hrjobroles-",contactId:decodeURIComponent(((new RegExp("[?|&]cid=([^&;]+?)(&|#|;|$)")).exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null,debug:!0,pathApp:"",pathRest:CRM.url("civicrm/ajax/rest"),pathBaseUrl:CRM.vars.hrjobroles.baseURL+"/",pathTpl:"views/",pathIncludeTpl:"views/include/"}),e.config(["settings","$routeProvider","$resourceProvider","$httpProvider","$logProvider",function(e,t,n,r,i){i.debugEnabled(e.debug),t.when("/",{controller:"ExampleCtrl",templateUrl:e.pathBaseUrl+e.pathTpl+"mainTemplate.html",resolve:{}}).otherwise({redirectTo:"/"}),n.defaults.stripTrailingSlashes=!1,r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]),e.run(["settings","$rootScope","$q","$log","editableOptions",function(e,t,n,r,i){r.debug("app.run"),i.theme="bs3",t.contactId=e.contactId,t.pathBaseUrl=e.pathBaseUrl,t.pathTpl=e.pathTpl,t.pathIncludeTpl=e.pathIncludeTpl,t.prefix=e.classNamePrefix}]),document.addEventListener("hrjobrolesLoad",function(){angular.bootstrap(document.getElementById("hrjobroles"),["hrjobroles"])})}),define("hrjobroles-main",function(){})})();