<div ng-controller="RevisionListCtrl">
    <a ng-href="{{urlCSV}}" class="btn btn-default btn-xs pull-right">
        <span class="fa fa-download" aria-hidden="true"></span> Export to CSV
    </a>
    <table class="table table-striped {{prefix}}table-sort {{prefix}}table-revision-list">
        <thead>
            <tr>
                <th><a href="" ng-click="sortBy('revisionEntityIdObj.effective_date');createPage();">Effective Date <i class="fa"
                                                                                                                       ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                                                       ng-show="sortCol == 'revisionEntityIdObj.effective_date'"></i></a></th>
                <th><a href="" ng-click="sortBy('details.position');createPage();">Position <i class="fa"
                                                                                               ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                               ng-show="sortCol == 'details.position'"></i></a></th>
                <th><a href="" ng-click="sortBy('pay.pay_scale');createPage();">Pay Scale <i class="fa"
                                                                                             ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                             ng-show="sortCol == 'pay.pay_scale'"></i></a></th>
                <th><a href="" ng-click="sortBy('pay.pay_annualized_est');createPage();">Total Salary <i class="fa"
                                                                                                         ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                                         ng-show="sortCol == 'pay.pay_annualized_est'"></i></a></th>
                <th><a href="" ng-click="sortBy('hour.hours_type');createPage();">Hours<br>(Full time/ Part time) <i class="fa"
                                                                                                                      ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                                                      ng-show="sortCol == 'hour.hours_type'"></i></a></th>
                <th><a href="" ng-click="sortBy('details.location');createPage();">Location <i class="fa"
                                                                                               ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                               ng-show="sortCol == 'details.location'"></i></a></th>
                <th><a href="" ng-click="sortBy('revisionEntityIdObj.editor_name');createPage();">Change<br>Recorded By <i class="fa"
                                                                                                                           ng-class="{'fa-sort-asc': !sortReverse, 'fa-sort-desc': sortReverse}"
                                                                                                                           ng-show="sortCol == 'revisionEntityIdObj.editor_name'"></i></a></th>
                <th>&nbsp;</th>
                <th>&nbsp;</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="revision in revisionDataListPage">
                <td>{{(revision.revisionEntityIdObj.effective_date | date: 'yyyy/MM/dd') || '-'}}</td>
                <td>{{revision.details.position || '-'}}</td>
                <td>{{revision.pay.pay_scale ? (((utils.payScaleGrade | getObjById:revision.pay.pay_scale:'pay_scale') || '-') + ' ' + ((utils.payScaleGrade | getObjById:revision.pay.pay_scale:'pay_grade') || '' )) : '-'}}</td>
                <td>{{revision.pay.pay_annualized_est || '-'}} {{options.pay.pay_currency[revision.pay.pay_currency]}}</td>
                <td>{{options.hour.hours_type[revision.hour.hours_type] || '-'}}</td>
                <td>{{options.details.location[revision.details.location] || '-'}}</td>
                <td>{{revision.revisionEntityIdObj.editor_name || '-'}}</td>
                <td></td>
                <td>
                    <div class="btn-group btn-group-xs btn-group-action" dropdown>
                        <a class="btn btn-default btn-xs" ng-click="modalContract('view',revision.revisionEntityIdObj)">
                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span> View
                        </a>
                        <button type="button" class="btn btn-default btn-xs dropdown-toggle" aria-expanded="false" dropdown-toggle>
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li><a href=""
                                   ng-click="modalRevisionEdit(revision.revisionEntityIdObj)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a></li>
                            <li ng-class="{'disabled': (revisionList.length == 1) }"><a href=""
                                   ng-click="deleteRevision(revision.revisionEntityIdObj.id, $event)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete</a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row" ng-show="(revisionDataList.length > itemsPerPage)">
        <div class="col-xs-12 text-center">
            <pagination boundary-links="true" total-items="revisionDataList.length" rotate="false" items-per-page="itemsPerPage" max-size="maxSize" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <button class="btn btn-default btn-sm btn-danger" ng-click="delete(contract.id)">
                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete this job contract
            </button>
        </div>
    </div>
</div>